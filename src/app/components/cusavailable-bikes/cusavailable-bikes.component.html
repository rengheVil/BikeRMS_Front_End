<div class="container mt-3">
  <h2>Available Motorbikes</h2>

  <!-- Search Bar -->
  <div class="form-group">
    <input type="text" class="form-control" placeholder="Search by brand, model, or category" [(ngModel)]="searchTerm"
      (input)="filterBikes()" />
  </div>

  <br>

  <!-- Motorbikes Display Section -->
  <div class="row">
    <div *ngFor="let bike of motorbikes" class="col-md-4 mb-4">
      <div class="card" style="height: 100%; text-align: center;">
        <!-- Image Section -->
        <div *ngIf="bike.imageData; else noImage">
          <img [src]="'data:image/png;base64,' + bike.imageData" class="card-img-top" alt="Bike Image"
            style="width: 100%; height: 200px; object-fit: cover;">
        </div>
        <ng-template #noImage>
          <img src="placeholder.jpg" class="card-img-top" alt="No Image Available"
            style="width: 100%; height: 200px; object-fit: cover;">
        </ng-template>

        <!-- Bike Info Section -->
        <div class="card-body">
          <h5 class="card-title">{{ bike.brand }} - {{ bike.model }}</h5>
          <p class="card-text">
            <strong>Category:</strong> {{ bike.category }}<br>
            <strong>Reg. Number:</strong> {{ bike.regNumber }}
          </p>
          <button class="btn btn-primary" (click)="requestRental(bike.id)">
            Request Rental
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mt-3">
  <h2>Available Motorbikes</h2>
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th>Reg. Number</th>
        <th>Brand</th>
        <th>Model</th>
        <th>Category</th>
        <th>Image</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let bike of motorbikes">
        <td>{{ bike.regNumber }}</td>
        <td>{{ bike.brand }}</td>
        <td>{{ bike.model }}</td>
        <td>{{ bike.category }}</td>
        <td>
          <img *ngIf="bike.imageData" [src]="'data:image/png;base64,' + bike.imageData" alt="Bike Image" width="50">
          <ng-template #noImage>No image</ng-template>
        </td>
        <td>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
            (click)="requestRental(bike.id)">
            Request Rental
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>




<!-- Modal (click)="selected=bike"-->
<!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> Update </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div> -->
<!-- <div class="modal-body" *ngIf="selected">
        
       <app-medit-bike [bikeData]="selected"></app-medit-bike> -->

<!-- </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div> -->



<!-- <div class="container mt-3">
      <h2>Available Motorbikes</h2>
      <div class="row">
        <div *ngFor="let bike of motorbikes" class="col-md-4 mb-4">
          <div class="card">
            <img 
              *ngIf="bike.imageData; else noImage" 
              [src]="'data:image/png;base64,' + bike.imageData" 
              class="card-img-top" 
              alt="Bike Image">
            <ng-template #noImage>
              <img src="placeholder.jpg" class="card-img-top" alt="No Image Available">
            </ng-template>
            <div class="card-body">
              <h5 class="card-title">{{ bike.brand }} - {{ bike.model }}</h5>
              <p class="card-text">
                <strong>Category:</strong> {{ bike.category }}<br>
                <strong>Reg. Number:</strong> {{ bike.regNumber }}
              </p>
              <button class="btn btn-primary" (click)="requestRental(bike.Id)">
                Request Rental
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
     -->

<!-- <div class="container mt-3">
      <h2>Available Motorbikes</h2>
    
      Search Bar -->
<!-- <div class="form-group">
        <input
          type="text"
          class="form-control"
          placeholder="Search by brand, model, or category"
          [(ngModel)]="searchTerm"
          (input)="filterBikes()"
        />
      </div>
    
     Motorbike Cards -->
<!-- <div class="row">
        <div *ngFor="let bike of filteredMotorbikes" class="col-md-4 mb-4">
          <div class="card" style="height: 100%; text-align: center;">
            <img 
              *ngIf="bike.imageData; else noImage" 
              [src]="'data:image/png;base64,' + bike.imageData" 
              class="card-img-top" 
              alt="Bike Image" 
              style="width: 100%; height: 200px; object-fit: cover;">
            <ng-template #noImage>
              <img 
                src="placeholder.jpg" 
                class="card-img-top" 
                alt="No Image Available" 
                style="width: 100%; height: 200px; object-fit: cover;">
            </ng-template>
            <div class="card-body">
              <h5 class="card-title">{{ bike.brand }} - {{ bike.model }}</h5>
              <p class="card-text">
                <strong>Category:</strong> {{ bike.category }}<br>
                <strong>Reg. Number:</strong> {{ bike.regNumber }}
              </p>
              <button class="btn btn-primary" (click)="requestRental(bike.Id)">
                Request Rental
              </button>
            </div>
          </div>
        </div>
      </div>
    </div> -->